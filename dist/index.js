!function(){iina.menu;var i=iina.file,n=iina.console,a="@data/script-list.json";var r=function(){var r=function(){i.write(a,"[]")};i.exists(a)||r();var t=i.read(a),e=[];try{e=JSON.parse(t),n.log(`Scripts loaded: ${e.length}`)}catch(a){n.log("Cannot parse the script list - will recreate one"),i.write("@data/script-list.json.backup",t),r()}return e}();iina.console.log(r);var t=!0,e=!1,o=void 0;try{for(var l,s=r[Symbol.iterator]();!(t=(l=s.next()).done);t=!0){var c=l.value,d=c.id,u=c.name;iina.console.log(`Running script "${u}", id=${d}`);var p=`@data/${d}.js`;iina.file.exists(p)||console.log(`File ${p} doesn't exist; skipped.`);var v=iina.file.read(p);try{new Function("iina",v)(iina)}catch(i){iina.console.log(`Error running script "${u}", id=${d}: ${i}`)}}}catch(i){e=!0,o=i}finally{try{t||null==s.return||s.return()}finally{if(e)throw o}}}();
//# sourceMappingURL=index.js.map
